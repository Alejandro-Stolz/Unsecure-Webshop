<h2>Nutzer Einstellungen</h2>
<div class="row gutters">
  <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12">
    <div class="card h-100">
      <div class="card-body">
        <div class="account-settings">
          <div class="user-profile">
            <div class="user-avatar">
              <img [alt]="getUserName()" [src]="getProfileImageUrl()">
            </div>
            <h5 class="user-name">{{ getUserName() }}</h5>
            <h6 class="user-email">{{ this.user.mail }}</h6>
          </div>
          <div class="about">
            <h5 *ngIf="user.description != ''" class="mb-2 text-primary">About</h5>
            <p>{{user.description}}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12">
    <div class="card h-100">
      <div class="card-body">
        <div class="row gutters">
          <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
            <div class="form-group">
              <label for="salutation">Anrede</label>
              <select [(ngModel)]="user.salutation" class="form-control" id="salutation">
                <option *ngFor="let opt of ['Herr', 'Frau', 'Divers']">{{opt}}</option>
              </select>
            </div>
          </div>
          <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
            <div class="form-group">
              <label for="title">Titel</label>
              <select [(ngModel)]="user.title" class="form-control" id="title">
                <option *ngFor="let opt of ['', 'Dr.', 'Prof.', 'Prof. Dr.']">{{opt}}</option>
              </select>
            </div>
          </div>
          <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
            <div class="form-group">
              <label for="fistName">Vorname</label>
              <input [(ngModel)]="user.firstname" class="form-control" id="fistName"
                     placeholder="Gib deinen Vornamen ein"
                     type="text">
            </div>
          </div>
          <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
            <div class="form-group">
              <label for="lastName">Nachname</label>
              <input (change)="printTest()" [(ngModel)]="user.lastname" class="form-control" id="lastName"
                     placeholder="Gib deinen Nachnamen ein"
                     type="text">
            </div>
          </div>
          <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
            <div class="form-group">
              <label for="mail">E-Mail</label>
              <input [(ngModel)]="user.mail" class="form-control" id="mail" placeholder="Gib deine Mail Adresse ein"
                     type="mail">
            </div>
          </div>
          <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
            <label for="mail">Beschreibung</label>
            <textarea [(ngModel)]="user.description" class="form-control" rows="5"></textarea>
          </div>
        </div>
        <div class="row gutters">
          <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
            <h6 class="mb-3 text-primary">Addressen</h6>
            <addresses [addresses]="addresses"></addresses>
          </div>

        </div>
        <hr class="my-4"/>
        <div class="row mb-4">
          <alert [ngClass]="matchingNewPasswords ? 'd-none' : ''" type="danger">
            <strong>Fehler!</strong> Die neuen Kennwörter stimmen nicht überein!
          </alert>
          <alert [ngClass]="fulfillsPasswordRequirements ? 'd-none' : ''" type="danger">
            <strong>Fehler!</strong> Das neue Kennwort erfüllt nicht alle Voraussetzungen!
          </alert>
          <alert [ngClass]="validOldPassword ? 'd-none' : ''" type="danger">
            <strong>Fehler!</strong> Das alte Kennwort ist falsch!
          </alert>
          <div class="col-md-6">
            <div class="form-group">
              <label for="oldPassword">Altes Passwort</label>
              <input class="form-control" id="oldPassword" type="password"/>
            </div>
            <div class="form-group">
              <label for="newPassword">Neues Passwort</label>
              <input [(ngModel)]="newPassword" class="form-control was-validated" id="newPassword"
                     type="password">
            </div>
            <div class="form-group">
              <label for="confirmNewPassword">Neues Passwort bestätigen</label>
              <input [(ngModel)]="newPasswordConfirm" class="form-control" id="confirmNewPassword" type="password"/>
            </div>
          </div>
          <div class="col-md-6">
            <p class="mb-2">Passwort Anforderungen</p>
            <p class="small text-muted mb-2">Um ein neues Passwort zu erstellen, müssen Sie alle folgenden
              Voraussetzungen erfüllen
              Anforderungen erfüllen:</p>
            <ul class="small text-muted pl-4 mb-0">
              <li [ngClass]="validateNewPasswordEightChars() ? 'text-success' : ''">Mindestens 8 Zeichen</li>
              <li [ngClass]="validateNewPasswordSpecialChars() ? 'text-success' : ''">Mindestens ein Sonderzeichen
              </li>
              <li [ngClass]="validateNewPasswordOneNumber() ? 'text-success' : ''">Mindestens eine Nummer</li>
            </ul>
          </div>
        </div>
        <div class="row gutters">
          <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
            <div class="btn-group text-right float-end">
              <button class="btn btn-secondary" name="submit" type="button">abbruch</button>
              <button (click)="onSubmit()" class="btn btn-primary" id="submit" name="submit" type="button">speichern
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
